library(swirl)
swirl()
dim(hunger)
948
names(hunger)
lm(Numeric~Year, data=hunger)
fit<- lm(Numeric~Year, data=hunger)
summary(fit)$coef
lmF<- lm(Numeric~Year[hunger$Sex=="Female"],data=hunger)
lmF<- lm(Numeric[hunger$Sex=="Female"]~Year[hunger$Sex=="Female"],data=hunger)
lmM<- lm(Numeric[hunger$Sex=="Male"]~Year[hunger$Sex=="Male"],data=hunger)
lmBoth<-lm(Numeric~Year*Sex, data=hunger)
lmBoth<-lm(Numeric~Year+Sex, data=hunger)
summary(lmBoth)
lmInter<-lm(Numeric~Year*Sex, data=hunger)
summary(lmInter)
fit<- lm(y~x, data=out2)
plot(fit,which=1)
fitno<-out[-1.]
fitno<-out2[-1,]
fitno <- lm(y ~ x, out2[-1, ])
plot(fitno,which=1)
coef(fit)-coef(fitno)
head(dfbeta(fit))
resno <- out2[1, "y"] - predict(fitno, out2[1,])
1-resid(fit)[1]/resno
head(hatvalues(fit))
sigma<-fit$residuals/fit$df.residual
sigma <- sqrt(deviance(fit)/df.residual(fit))
rstd<-sigma*sqrt(1-hatvalues(fit))
rstd <- resid(fit)/(sigma * sqrt(1-hatvalues(fit)))
head(cbind(rstd,
| rstandard(fit)))
head(cbind(rstd,rstandard(fit)))
plot(fit,which=3)
plot(fit,which=2)
sigma1<-sqrt(fitno$df.residual/fitno$df.residual)
sigma1 <- sqrt(deviance(fitno)/df.residual(fitno))
resid(fit)[1]/(sigma1*sqrt(1-hatvalues(fit)[1]))
head(rstudent(fit))
dy<-predict(fitno,out2)-predict(fit, out2)
dy/(2*sigma^2)
sum(dy^2)/(2*sigma^2)
plot(fit,which=5)
mtcars
lm(mpg~cyl, data=mtcars)
lm(mpg~cyl+wt, data=mtcars)
lm(mpg~cyl*wt, data=mtcars)
lm(mpg~cyl*wt, data=mtcars)
q1<-lm(mpg~cyl+wt, data=mtcars)
summary(q1)
library(geomorph)
install.packages("geomorph")
library(geomorph)
library(glmm)
data(salamander)
names(salamander)
head(salamander)
summary(salamander)
View(salamander)
set.seed(1234)
ptm<-proc.time()
#mate is outcome, male and female as random effects
sal <- glmm(Mate ~ 0 + Cross, random = list(~ 0 + Female,
~ 0 + Male), varcomps.names = c("F", "M"), data = salamander,
family.glmm = bernoulli.glmm, m = 10^4, debug = TRUE)
set.seed(1234)
ptm<-proc.time()
sal <- glmm(Mate ~ 0 + Cross, random = list(~ 0 + Female,
~ 0 + Male), varcomps.names = c("F", "M"), data = salamander,
family.glmm = bernoulli.glmm, m = 10^4, debug = TRUE)
proc.time() - ptm
summary(sal)
setwd("C:/Users/virgc/Dropbox/Life history data")
lifedat<-read.csv("2017_08_26 Life history data.csv", header=TRUE)
#ruybal- dev is 1/time to adult
lifedat$rate<- 1/lifedat$EmTime
#order by latitude
lifedat$Locality=factor(lifedat$Locality, c("ARS","APR","RPV","RMO","TLC","TPN","SJU"))
#
mod1<-glm(rate~Temp*Locality*Sex,data=lifedat,family=Gamma);summary(mod1)
mod2<-glm(rate~Temp,data=lifedat,family=Gamma);summary(mod2)
mod3<-glm(rate~Temp*Sex,data=lifedat,family=Gamma);summary(mod3)
mod4<-glm(rate~Temp*Locality,data=lifedat,family=Gamma);summary(mod4)
mod5<-glm(rate~Temp*Biome,data=lifedat,family=Gamma);summary(mod5)
mod6<-glm(rate~Temp*Biome*Sex,data=lifedat,family=Gamma);summary(mod6)
mod7<-glm(rate~Temp*State*Sex,data=lifedat,family=Gamma);summary(mod7)
mod8<-glm(rate~Temp*State,data=lifedat,family=Gamma);summary(mod8)
AIC(mod1,mod2,mod3,mod4,mod5,mod6,mod7, mod8)
lifebiglm <- lm(rate ~ (Family+Well)^2+(Family+Well)*(Temp+Locality+Sex), lifedat)
#steps through to remove parts to minimize AIC, trave=FALSE blocks model output clutter
lifesmallm <- step(lifebiglm,trace=FALSE)
drop1(smallm,test="F")
AIC(mod1,mod2,mod3,mod4,mod5,mod6,mod7, mod8)
print(modelAIC)
modelAIC<-AIC(mod1,mod2,mod3,mod4,mod5,mod6,mod7, mod8)
print(modelAIC)
print("mod1<-glm(rate~Temp*Locality*Sex,data=lifedat,family=Gamma);summary(mod1)")
print(summary(mod1))
?glm
mod1b<-glm(rate~Temp*Locality*Sex,data=lifedat,family=Bionomial);summary(mod1)
mod1b<-glm(rate~Temp*Locality*Sex,data=lifedat,family=Binomial);summary(mod1)
mod1b<-glm(rate~Temp*Locality*Sex,data=lifedat,family=binomial);summary(mod1b)
mod2b<-glm(rate~Temp,data=lifedat,family=binomial);summary(mod2b)
mod3b<-glm(rate~Temp*Sex,data=lifedat,family=binomial);summary(mod3b)
mod4b<-glm(rate~Temp*Locality,data=lifedat,family=binomial);summary(mod4b)
mod5b<-glm(rate~Temp*Biome,data=lifedat,family=binomial);summary(mod5b)
mod6b<-glm(rate~Temp*Biome*Sex,data=lifedat,family=binomial);summary(mod6b)
mod7b<-glm(rate~Temp*State*Sex,data=lifedat,family=binomial);summary(mod7b)
mod8b<-glm(rate~Temp*State,data=lifedat,family=binomial);summary(mod8b)
modelAICb<-AIC(mod1b,mod2b,mod3b,mod4b,mod5b,mod6b,mod7b, mod8b)
print(modelAICb)
modelAICb
install.packages("car")
require (car)
install.packages("MASS")
require(MASS)
install.packages("MASS")
lifedat$Pupation.date<-lifedat$Pupation.date + 1
qqp(lifedat$Pupation.date, "norm")
qqplot(lifedat$Pupation.date, "norm")
qqplot(lifedat$Pupation.date.t, "norm")
?qqplot
qqnorm(lifedat$Pupation.date.t, "norm")
print(modelAIC)
modelAIC
View(lifedat)
View(lifedat)
lifedat$tempnum<-if (lifedat$Temp=="A") {20} else if (lifedat$Temp=="B") {24} else if (lifedat$Temp=="C") {28}
lifedat<-read.csv("2017_09_19 Life history data.csv", header=TRUE)
setwd("C:/Users/virgc/Dropbox/Life history data")
lifedat<-read.csv("2017_09_19 Life history data.csv", header=TRUE)
lifedat$rate<- 1/lifedat$EmTime
lifedat$Locality=factor(lifedat$Locality, c("ARS","APR","RPV","RMO","TLC","TPN","SJU"))
mod1<-glm(rate~tempnum*Locality*Sex,data=lifedat,family=Gamma);summary(mod1)
head(lifedat)
mod1<-glm(rate~Tempnum*Locality*Sex,data=lifedat,family=Gamma);summary(mod1)
mod1tn<-glm(rate~Tempnum*Locality*Sex,data=lifedat,family=Gamma);summary(mod1tn)
mod2tn<-glm(rate~Tempnum,data=lifedat,family=Gamma);summary(mod2tn)
mod3tn<-glm(rate~Tempnum*Sex,data=lifedat,family=Gamma);summary(mod3tn)
mod4tn<-glm(rate~Tempnum*Locality,data=lifedat,family=Gamma);summary(mod4tn)
mod5tn<-glm(rate~Tempnum*Biome,data=lifedat,family=Gamma);summary(mod5tn)
mod6tn<-glm(rate~Tempnum*Biome*Sex,data=lifedat,family=Gamma);summary(mod6tn)
mod7tn<-glm(rate~Tempnum*State*Sex,data=lifedat,family=Gamma);summary(mod7tn)
mod8tn<-glm(rate~Tempnum*State,data=lifedat,family=Gamma);summary(mod8tn)
modelAICtn<-AIC(mod1tn,mod2tn,mod3tn,mod4tn,mod5tn,mod6tn,mod7tn, mod8tn)
print(modelAICtn)
print("mod4tn<-glm(rate~Tempnum*Locality,data=lifedat,family=Gamma);summary(mod4tn)")
print(summary(mod4tn))
setwd("C:/Users/virgc/Dropbox/Life history data")
lifedat<-read.csv("2017_09_19 Life history data.csv", header=TRUE)
lifedat$rate<- 1/lifedat$EmTime
#order by latitude
lifedat$Locality=factor(lifedat$Locality, c("ARS","APR","RPV","RMO","TLC","TPN","SJU"))
head(lifedat)
View(lifedat)
View(lifedat)
View(lifedat)
View(lifedat)
getwd()
setwd("C:/Users/virgc/GitHub/wingproj/Gomez analysis plan")
field_wings<- read.csv("2017_10_02 Field 18 Partial warps.csv", header=TRUE)
View(field_wings)
?princomp
require(graphics)
head(field_wings)
head(field_wings)
field.pc<-princomp(CS~Biome + Latitude +Ecoregion+Collection.month+Season, data=field_wings)
field.pc<-princomp(~Biome + Latitude +Ecoregion+Collection.month+Season, data=field_wings)
field_wings1<- (field_wings$Biome, field_wings$Latitude,field_wings$Ecoregion,field_wings$Collection.month,field_wings$CS)
head(field_wings[1])
field_wings1<- c(field_wings$Biome, field_wings$Latitude,field_wings$Ecoregion,field_wings$Collection.month,field_wings$CS)
install.packages("HSAUR2")
library(HSAUR2)
data(USairpollution)
head(USairpollution)
USairpollution[,1]
head(USairpollution)
USairpollution[,-1]
head(USairpollution)
field_wings1<- c(field_wings$CS, field_wings$Biome, field_wings$Latitude,field_wings$Ecoregion,field_wings$Collection.month)
head(field_wings1)
View(field_wings)
field_wings1
class(field_wings)
field_wings1<-data.frame(field_wings$CS, field_wings$Biome, field_wings$Latitude,field_wings$Ecoregion,field_wings$Collection.month)
head(field_wings1)
pairs(USairpollution[,-1], upper.panel = panel.cor)
?panel.cor
??panel.cor
field.pc<-princomp(field_wings1[,-1], cor=TRUE)
View(field_wings1)
head(USairpollution)
head(field_wings1)
field_wings1<-data.frame(field_wings$CS, field_wings$Biome, field_wings$Latitude,field_wings$Ecoregion,field_wings$Collection.month, field_wings$Season)
field_wings<- read.csv("2017_10_02 Field 18 Partial warps.csv", header=TRUE)
field_wings1<-data.frame(field_wings$CS, field_wings$Biome, field_wings$Latitude,field_wings$Ecoregion, field_wings$Season)
field_wings1$Biome<- ifelse(field_wings1$Biome=="Amazon",1,(ifelse(field_wings1$Biome=="Cerrado",2,3)))
field_wings1$Biome1<- ifelse(field_wings1$Biome=="Amazon",1,(ifelse(field_wings1$Biome=="Cerrado",2,3)))
within(field_wings1, field_wings$Biome<-ifelse(field_wings1$Biome=="Amazon",1,(ifelse(field_wings1$Biome=="Cerrado",2,3)))
)
within(field_wings1, field_wings1$Biome1<-ifelse(field_wings1$Biome=="Amazon",1,(ifelse(field_wings1$Biome=="Cerrado",2,3))))
field_wings1$Biome1<-0
within(field_wings1, field_wings1$Biome1<-ifelse(field_wings1$Biome=="Amazon",1,(ifelse(field_wings1$Biome=="Cerrado",2,3))))
field_wings1$Biome1<- ifelse(field_wings1$Biome=="Amazon",1,(ifelse(field_wings1$Biome=="Cerrado",2,3)))
field_wings1$Biome[1]
head(field_wings1)
field_wings1$Biome[1:2]
field_wings1$Biome
